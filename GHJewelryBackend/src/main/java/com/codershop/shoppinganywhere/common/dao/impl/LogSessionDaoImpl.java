package com.codershop.shoppinganywhere.common.dao.impl;import com.codershop.shoppinganywhere.common.dao.LogSessionDao;import com.codershop.shoppinganywhere.common.entity.LogSession;import com.codershop.shoppinganywhere.common.generics.impl.GenericDaoImpl;import org.springframework.stereotype.Repository;import java.sql.Connection;import java.sql.PreparedStatement;@Repository("SessionDaoImpl")public class LogSessionDaoImpl extends GenericDaoImpl<LogSession, Integer> implements LogSessionDao {    @Override    public void save(Iterable<LogSession> lst) throws Exception {        try (Connection conn = dataSource.getConnection()) {            conn.setAutoCommit(false);            PreparedStatement psmt = conn.prepareStatement(                    "INSERT INTO ADMIN_DTHGD.LOG_SESSION(LOG_SESSION_ID, " +                            " USER_ID, CREATE_TIME, TOKEN, IP_ADDRESS) " +                            " VALUES (ADMIN_DTHGD.LOG_SESSION_SEQ.nextval, ?, ?, ?, ?)");            int count = 0;            for (LogSession item : lst) {                psmt.setObject(1, item.getUserId());                psmt.setObject(2, new java.sql.Date(item.getCreateTime().getTime()));                psmt.setObject(3, item.getToken());                psmt.setObject(4, item.getIpAddress());                psmt.execute();                count++;                if (count % 100 == 0) {                    conn.commit();                }            }            conn.commit();        } catch (Exception ex) {            throw ex;        }    }}